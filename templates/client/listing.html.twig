{% extends 'base.html.twig' %}

{% block title %}
    {{"client list"}}
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css"/>
{% endblock %}

{% block body %}

    <style>
    .example-wrapper {
        margin: 1em auto;             
        max-width: 85vw;             
        width: 95%;             
        font: 18px / 1.5 sans-serif;         
        }         
        
    .example-wrapper code {             
        background: #F5F5F5;             
        padding: 2px 6px;       
        }     
    </style>

    <div class="example-wrapper">
        <h2>List of clients</h2>
        <a class="btn btn-primary my-2" href="./create">{{'Create client'}}</a>
        <table id="myTable" class="display">
            <thead>
                <th>{{"Firstname"}}</th>
                <th>{{"Lastname"}}</th>
                <th>{{"Birth date"}}</th>
                <th>{{"Address"}}</th>
                <th>{{"City"}}</th>
                <th>{{"Email"}}</th>
                <th>{{"Phone nÂ°"}}</th>
                <th></th>
                <th></th>
                <th></th>
            </thead>
            <tbody>
                {% for client in clients %}
                <tr>
                    <td>{{client.getFirstName()}}</td>
                    <td>{{client.getLastName()}}</td>
                    <td>{{client.getBirthDate()|date("Y-m-d","Europe/Paris")}}</td>
                    <td>{{client.getAdress()}}</td>
                    <td>{{client.getCity()}}</td>
                    <td>{{client.getMail()}}</td>
                    <td>{{client.getPhone()}}</td>
                    <td><a class="btn btn-primary" href={{path("client_details", {id : client.getId()})}}>{{'Details'}}</a></td>
                    <td><a class="btn btn-success" href="./edit/{{client.getId()}}">{{'Edit'}}</a></td>
                    <td><a class="btn btn-danger" href="./delete/{{client.getId()}}">{{'Delete'}}</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <script>
    $(document).ready(function() {
        $('#myTable').DataTable({
            columnsDefs: [
                { "width": "50%","targets":2 }
            ],
            language: {
            }
            
        });
    } );
    </script>
{% endblock %}